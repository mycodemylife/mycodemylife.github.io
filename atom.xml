<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://mycodemylife.github.io</id>
    <title>ä¸ƒå½©æ—‹å¾‹</title>
    <updated>2020-08-20T09:30:59.662Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://mycodemylife.github.io"/>
    <link rel="self" href="https://mycodemylife.github.io/atom.xml"/>
    <subtitle>ä¸€é—ªä¸€é—ªäº®æ™¶æ™¶</subtitle>
    <logo>https://mycodemylife.github.io/images/avatar.png</logo>
    <icon>https://mycodemylife.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, ä¸ƒå½©æ—‹å¾‹</rights>
    <entry>
        <title type="html"><![CDATA[PHP è°ƒç”¨httpsç±»å‹webserviceæ¥å£]]></title>
        <id>https://mycodemylife.github.io/post/php-webservice/</id>
        <link href="https://mycodemylife.github.io/post/php-webservice/">
        </link>
        <updated>2020-08-20T09:26:04.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-php">$opts = array (
			'ssl' =&gt; array (
					'ciphers' =&gt; 'RC4-SHA',
					'verify_peer' =&gt; false,
					'verify_peer_name' =&gt; false 
			) 
	);
	// SOAP 1.2 client
	$params = array (
			'encoding' =&gt; 'UTF-8',
			'verifypeer' =&gt; false,
			'verifyhost' =&gt; false,
			'soap_version' =&gt; SOAP_1_1,
			'trace' =&gt; 1,
			'exceptions' =&gt; 1,
			&quot;connection_timeout&quot; =&gt; 180,
			'stream_context' =&gt; stream_context_create ( $opts ),
			'local_cert' =&gt; $local_cert, // clientè¯ä¹¦ä¿¡æ¯
			'passphrase' =&gt; 'client'  // å¯†ç 
		);
 
	;
	$soap = new SoapClient ( $wsdl, $params );
ä¾‹å­ï¼š
	&lt;?php
header(&quot;content-type:text/html;charset=utf-8&quot;);
try {
	// è¦è¯·æ±‚çš„å†…å®¹ æ‰“æˆxml
	//xmlåŠ å¯†
	//å¯†é’¥ 
	//åç§»é‡ 
	//éšæœºæ•° 
	//ç”¨æˆ·
    $client = new SoapClient(&quot;https://192.168.3.12:8866/epic/query?wsdl&quot;,
        array(
            &quot;stream_context&quot; =&gt; stream_context_create(
                array(
                    'ssl' =&gt; array(
                        'verify_peer' =&gt; false,
                        'verify_peer_name' =&gt; false,
                    )
                )
            )
        )
    );
    //print_r($client-&gt;__getFunctions());
    //print_r($client-&gt;__getTypes());

    $parm = array('content' =&gt; 'inKkcE+e4h+1q5Rpm8hAqw0Ph8yYx3hlhUO/1dJqrhm4Y4p/ot7yhgnzg5cQj+3Whac+3gx5yfs1KVX/1U9TwugtKtMdRFwPxPbF27i+BmAh3gZN6SSMCvbvVmi2EBRgRxJEHBMrk52DCpUtC21nn4ECvkBUKBcf0vCnAVfB4Xs=', 'contentHash' =&gt; '0lh0DJh3A2j1ei7NhEAnYA==', 'random' =&gt; 'AUMIxMlN4IoZTuh3Gh6y', 'loginName' =&gt; 'glpt_user01');
    $result = $client-&gt;epic_ent_person_relation($parm);
    //print_r($result);

    //å°†stdclass objectçš„$resultè½¬æ¢ä¸ºarray
    $result = get_object_vars($result);
    //è¾“å‡ºç»“æœ 
    echo $result[&quot;return&quot;];
   

} catch (SOAPFault $e) {
    print $e;
}
?&gt;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[phpè¯ä»¶ç…§æ¢åº•è‰²]]></title>
        <id>https://mycodemylife.github.io/post/php_change/</id>
        <link href="https://mycodemylife.github.io/post/php_change/">
        </link>
        <updated>2020-08-20T09:08:27.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-php">&lt;?php
//èƒŒæ™¯å›¾å’ŒåŸå›¾éœ€è¦ä¿æŒå®½é«˜è¦ä¿æŒä¸€æ ·ï¼Œè¿™é‡Œçš„ç¤ºä¾‹åŸå›¾ç”¨çš„æ˜¯è“è‰²èƒŒæ™¯
init();
function init(){
    $old = '1.png';
    $new = '2.png';
    //åˆ›å»ºä¸€ä¸ªpngé€æ˜å›¾
    $img = imagecreatefrompng($old);
    setpng($img,$old,$new);
}
function setpng($imgid,$filename,$savename){
    $bg = 'bg.png';//èƒŒæ™¯å›¾
    $new = imagecreatefrompng($bg);//åˆ›å»ºä¸€ä¸ªpngé€æ˜å›¾
    list($width,$height)=getimagesize($filename);//è·å–é•¿å’Œå®½
    $white = imagecolorallocate($imgid,1,155,215);//é€‰æ‹©ä¸€ä¸ªæ›¿æ¢é¢œè‰²ã€‚è¿™é‡Œæ˜¯ç»¿è‰²
    cleancolor($imgid,$white);
    imagecolortransparent($imgid,$white);//æŠŠé€‰æ‹©çš„é¢œè‰²æ›¿æ¢æˆé€æ˜
    imagecopymerge($new,$imgid,0,0,0,0,$width,$height,100);//åˆå¹¶å›¾ç‰‡
    imagepng($new,$savename);//ä¿å­˜å›¾ç‰‡
    imagedestroy($imgid);//é”€æ¯
    imagedestroy($new);
    echo '&lt;img src=&quot;'.$savename.'&quot;&gt;';
}
function cleancolor($imgid,$color){
    $width = imagesx($imgid);//è·å–å®½
    $height = imagesy($imgid);//è·å–é«˜
    for($i=0;$i&lt;$width;$i++){
        for($k=0;$k&lt;$height;$k++){
            //å¯¹æ¯”æ¯ä¸€ä¸ªåƒç´ 
            $rgb = imagecolorat($imgid,$i,$k);
            $r = ($rgb &gt;&gt; 16)&amp;0xff;//å–R
            $g = ($rgb &gt;&gt; 8)&amp;0xff;//å–G
            $b = $rgb&amp;0xff;//å–B
            $randr = 1.5;
            $randg = 1;
            $randb=1;
            //è“è‰²RGBå¤§è‡´çš„ä½ç½®ã€‚æ›¿æ¢æˆç»¿è‰²
            if($r&lt;=65*$randr &amp;&amp; $g&lt;=225*$randg &amp;&amp; $b&lt;=255*$randb &amp;&amp; $b*$randb&gt;=100){
                //å¦‚æœèƒ½å¤Ÿç²¾ç¡®çš„è®¡ç®—å‡ºè¦ä¿ç•™ä½ç½®çš„ï¼Œè¿™é‡Œå¯ä»¥å†™ç»å¯¹çš„æ•°å­—
                if($i&gt;=$width/2 &amp;&amp; $i&lt;=$width/2 &amp;&amp; $k&gt;=$height/2 &amp;&amp; $k&lt;=$height/2){
                    
                }else{
                    //æ”¹å˜é¢œè‰²
                    imagesetpixel($imgid,$i,$k,$color);
                }
            }
        }
    }
}

$oldæŒ‡çš„æ˜¯è¦å¤„ç†çš„å›¾ç‰‡ï¼ŒæŒ‡å®šä¸ºpngæ ¼å¼
$newæŒ‡çš„æ˜¯å¤„ç†åè¾“å‡ºçš„å›¾ç‰‡å
$bgæŒ‡çš„æ˜¯èƒŒæ™¯å›¾
</code></pre>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>