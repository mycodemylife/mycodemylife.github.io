{"posts":[{"title":"zip、unzip、tar","content":"zip -r 递归压缩，将指定目录下的所有文件以及子目录全部压缩 -d 从压缩文件内删除指定的文件 -i “文件列表” 只压缩文件列表中的文件 -x “文件列表” 压缩时排除文件列表中指定的文件 -u 更新文件到压缩文件中 -m 将文件加入压缩文件压缩后，删除原始文件，即把文件移到压缩文件中 -F 尝试修复损坏的压缩文件 -T 检查压缩文件内的每个文件是否正确无误 -9 更好的压缩 -q 安静模式 zip -rq test.zip test -x test/logs/* unzip -v 执行时显示详细的信息 -n 解压缩时不要覆盖原有的文件 -o 不必先询问用户，unzip执行后覆盖原有的文件 -q 执行时不显示任何信息 -d&lt;目录&gt; 指定文件解压缩后所要存储的目录 -x&lt;文件&gt; 指定不要处理.zip压缩文件中的哪些文件 tar 解压：tar -zxvf test.tar.gz 压缩：tar -zcvf test.tar.gz test 排除目录中的某些文件:tar --exclude=目录名/* 或者 文件名 -zcvf 备份文件名.tgz 目录名 详解 ","link":"https://mycodemylife.github.io/post/zipunziptar/"},{"title":"MariaDB设置初始化密码及修改密码","content":"默认情况下，新安装的 mariadb 的密码为空，在shell终端直接输入 mysql 就能登陆数据库。 如果是刚安装第一次使用，请使用 mysql_secure_installation 命令初始化。 MariaDB设置初始化密码及修改密码 方法一： [root@localhost ~]# mysql -uroot MariaDB [(none)]&gt; use mysql; MariaDB [mysql]&gt; UPDATE mysql.user SET password = PASSWORD('newpassward') WHERE user = 'root'; MariaDB [mysql]&gt; FLUSH PRIVILEGES; 方法二： [root@localhost ~]# mysql -uroot MariaDB [(none)]&gt; use mysql; MariaDB [mysql]&gt; SET password=PASSWORD('newpassward'); MariaDB [mysql]&gt; FLUSH PRIVILEGES; 方法三： [root@localhost ~]# mysqladmin -u root password 'newpassword' 如果root已经设置过密码，采用如下方法 [root@localhost ~]# mysqladmin -u root -p 'oldpassword' password 'newpassword' 远程登录 root账户中的host项是localhost表示该账号只能进行本地登录，我们需要修改权限，输入命令： GRANT ALL PRIVILEGES ON . TO 'root'@'%' IDENTIFIED BY 'password' WITH GRANT OPTION; 修改权限。%表示针对所有IP 最后别忘了 FLUSH PRIVILEGES; ","link":"https://mycodemylife.github.io/post/mariadb-she-zhi-chu-shi-hua-mi-ma-ji-xiu-gai-mi-ma/"},{"title":"mysql导入sql文件","content":"mysql -uroot -proot database &lt; sql.sql ","link":"https://mycodemylife.github.io/post/mysql-dao-ru-sql-wen-jian/"},{"title":"div变大","content":".g-change-big:hover { transform: scaleX(1.05) scaleY(1.05) scaleZ(1); -webkit-transform: scaleX(1.05) scaleY(1.05) scaleZ(1); } ","link":"https://mycodemylife.github.io/post/div-bian-da/"},{"title":"四面阴影","content":"四面阴影： .g-box-shadow-animation:hover,g-box-shadow:hover { box-shadow: 1px 1px 8px 0px #535050; -webkit-box-shadow: 1px 1px 8px 0px #535050; -moz-box-shadow: 1px 1px 8px 0px #535050; -o-box-shadow: 1px 1px 8px 0px #535050; -ms-box-shadow: 1px 1px 8px 0px #535050; } .g-box-shadow-animation { transition: all .7s ease-out; } ","link":"https://mycodemylife.github.io/post/si-mian-yin-ying/"},{"title":"oracle导入表时跳过某些表以及导入方式","content":"1. 在导入时，目标表已经存在，该如何把数据追加进入目标表中 当使用IMPDP完成数据库导入时，如遇到表已存在时，Oracle提供给我们如下四种处理方式： SKIP：跳过已经存在的表，继续导入下一个对象，如果CONTENT设置了DATA_ONLY参数，则不能使用SKIP APPEND：不会影响已存在的数据，在原有数据表的基础上继续增加数据 REPLACE：先删除掉表，然后创建表，最后完成数据插入 TRUNCATE：删除已存在的行，然后插入所有的数据 我们需要在导入语句中使用TABLE_EXISTS_ACTION参数指定导入数据方式，方法如下 impdp zcgl/system dumpfile=GUIDONG.DMP directory=data_pump_dir REMAP_TABLESPACE=ASSETS:ZCGL REMAP_SCHEMA=TESTUSER:ZCGL TABLE_EXISTS_ACTION=APPEND logfile=TEST20191111.log 2. 导入时跳过某些表 一般剔除操作使用的是exclude，在剔除表时，使用的命令为： exclude=table:&quot;in('table_name1','table_name2')&quot; 在使用过程中报语法错误，百度发现需要对&quot;,',(,)分别进行转意，命令修改为 exclude=table:\\&quot;in\\(\\'table_name1\\',\\'table_name2\\'\\)\\&quot;后执行成功。 ","link":"https://mycodemylife.github.io/post/oracle-dao-ru-biao-shi-tiao-guo-mou-xie-biao-yi-ji-dao-ru-fang-shi/"},{"title":"linux下tmp文件会被清理","content":"查看规则： more /etc/cron.daily/tmpwatch 如果你想将强制删除30天没有访问的文件改为7天，只需将里面的720改为189即可。 ","link":"https://mycodemylife.github.io/post/linux-xia-tmp-wen-jian-hui-bei-qing-li/"},{"title":"Oracle中修改表相关内容","content":" 字段的操作 操作的方法 修改列名（更新字段） alter table 表名 rename column 原列名 to 新列名; 添加列 alter table 表名 add 列名 列类型; 删除列 alter table 表名 drop column 列名； 添加列并赋值 alter table 表名 add 列名 列类型 default 需要赋的值； 修改列的数据类型 alter table 表名 modify 列名 列数据类型； 增 insert into 表名 values(字段1，字段2，字段3，......); 删 delete from 表名 where 列名 = 值； 改（单个字段数据） update 表名 set 列名 = 值 where 判断条件；（如：where id = 100） 改（多个字段数据） update 表名 set 列名1 = 值1, 列名2 = 值2 where 判断条件；（如：update t_user set name = '张三'，password = '123456' where id = 10;） ","link":"https://mycodemylife.github.io/post/oracle-zhong-xiu-gai-biao-xiang-guan-nei-rong/"},{"title":"shell脚本执行mysql操作","content":"mysql -uxxx -pxxxx &lt;&lt;EOF use $DB; CREATE TABLE $TB ( AAA varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, BBB varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, INDEX ym_index(BBB) USING BTREE ) ENGINE = MyISAM CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic; EOF ","link":"https://mycodemylife.github.io/post/shell-jiao-ben-zhi-xing-mysql-cao-zuo/"},{"title":"shell脚本执行mysql命令并将结果赋值给变量","content":"TEMP=$(mysql -h192.168.x.x -uroot -p'xxxxxxxx' --database xxx -s -e &quot;select flag from table&quot;) echo $TEMP 解释：-s 忽略表头 -e执行命令 ","link":"https://mycodemylife.github.io/post/shell-jiao-ben-zhi-xing-mysql-ming-ling-bing-jiang-jie-guo-fu-zhi-gei-bian-liang/"},{"title":"mysql只导出数据或导出结构","content":" 导出结构不导出数据 mysqldump -d 数据库名 -uroot -p &gt; xxx.sql 导出数据不导出结构 mysqldump -t 数据库名 -uroot -p &gt; xxx.sql 导出数据和表结构 mysqldump 数据库名 -uroot -p &gt; xxx.sql 导出特定表的结构 mysqldump -uroot -p -B 数据库名 --table 表名 &gt; xxx.sql ","link":"https://mycodemylife.github.io/post/mysql-zhi-dao-chu-shu-ju-huo-dao-chu-jie-gou/"},{"title":"mysql导出数据时排除某表","content":"mysqldump -uroot -p123456 dbname --ignore-table=dbname.tables1 --ignore-table=dbname.table2 &gt;/tmp/dbname_timestamp.sql ","link":"https://mycodemylife.github.io/post/mysql-dao-chu-shu-ju-shi-pai-chu-mou-biao/"},{"title":"linux 命令 统计某时间段打出的日志有多少行","content":"sed -n '/Tue Sep 15 00:00:00/,/Tue Sep 15 23:59:59/p' catalina.out |grep '调用方法'|wc -l 日志中有输出时间，然后就是取时间段，再过滤，然后统计行数 ","link":"https://mycodemylife.github.io/post/tong-ji-mou-shi-jian-duan-da-chu-de-ri-zhi-you-duo-shao-xing/"},{"title":"sed命令进行字符串替换","content":"命令格式1：sed -i 's/原字符串/新字符串/' 文件 只匹配第一个符合条件的 命令格式2：sed -i 's/原字符串/新字符串/g' 文件 匹配所有符合条件的 命令格式3：sed -i '行号c 新字符串' 文件 匹配某一行 命令格式4：sed -i '起始行号，终止行号c 新字符串' 文件 匹配从某一行到某一行 命令格式5：sed -e 命令1 -e 命令2 -e 命令3 多条命令执行 -i 将结果保存到文件中，不加则显示在控制台 ","link":"https://mycodemylife.github.io/post/sed-ming-ling-jin-xing-zi-fu-chuan-ti-huan/"},{"title":"python中字符串和字节数组转换","content":"byte = b&quot;abcd&quot; # 字节数组 strstr = &quot;efgh&quot; # 字符串 print(type(strstr)) byte2str = byte.decode(encoding='UTF-8') # 字节数组转字符串 print(byte2str,type(byte2str)) str2bytes = strstr.encode(encoding='UTF-8') # 字符串转字节数组 print(str2bytes,type(str2bytes)) ","link":"https://mycodemylife.github.io/post/python-zhong-zi-fu-chuan-he-zi-jie-shu-zu-zhuan-huan/"},{"title":"python调用webservice接口","content":"导包 from suds.client import Client 代码 url = &quot;http://domain?wsdl&quot; headers = {'Content-Type': 'application/soap+xml;charset=&quot;UTF-8&quot;'} client = Client(url,headers=headers,faults=False,timeout=15) client.set_options(location=&quot;http://domain?wsdl&quot;) 注意：可以指定location，这会覆盖从接口获得的location 结果 resp = client.service.xxxx_getXXXX(param) print(resp) ","link":"https://mycodemylife.github.io/post/python-diao-yong-webservice-jie-kou/"},{"title":"Markdown 文档生成工具","content":" loppo: 非常简单的静态站点生成器 idoc：简单的文档生成工具 gitbook：大名鼎鼎的文档协作工具 docsify：一个神奇的文档站点生成器，简单轻巧，无需静态构建html http://www.mamicode.com/info-detail-2662951.html ","link":"https://mycodemylife.github.io/post/markdown-wen-dang-sheng-cheng-gong-ju/"},{"title":"struts2.3升级到struts2.5","content":"具体内容可以直接百度，很多！ 这里记录一下本人和网上的不同点。由于自定义实现了过滤，所以以前的ActionContext.getParameters()返回Map&lt;String, Object&gt;，现在返回的是HttpParameters，所以需要转换一下。 Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(); HttpParameters parameters = ac.getParameters(); for (Entry&lt;String, Parameter&gt; entry : parameters.entrySet()) { map.put(entry.getValue().getName(), entry.getValue().getMultipleValues()); } return map; 大体的流程就是改pom--改struts--改web.xml. 根据错误提示改asm，改commons-lang3，改spring版本 ","link":"https://mycodemylife.github.io/post/struts23-sheng-ji-dao-struts25/"},{"title":"spring4.x不再提供 HibernateTemplate.saveOrUpdateAll(Collection) 的支持","content":"报错：The method saveOrUpdateAll(Collection) is undefined for the type HibernateTemplate 在spring2 和spring 3的文档 中会发现：从 spring2.5 起，官方就建议不要使用该方法，并且在 spring4.x中完全摈弃了这个方法。 saveOrUpdateAll 的声明如下： public void saveOrUpdateAll(Collection entities) throws DataAccessException 参数中接收一个Collection。 原项目中代码如此： super.getHibernateTemplate().saveOrUpdateAll(entitys); 可以修改为这样： for(Object t : entities) { getHibernateTemplate().saveOrUpdate(t); } ","link":"https://mycodemylife.github.io/post/spring4x-bu-zai-ti-gong-hibernatetemplatesaveorupdateallcollection-de-zhi-chi/"},{"title":"phpstudy 启动导致本地的数据库服务丢失","content":"mysqld --install MySQL5.5 换一个名字就ok！！！ ","link":"https://mycodemylife.github.io/post/phpstudy-qi-dong-dao-zhi-ben-di-de-shu-ju-ku-fu-wu-diu-shi/"},{"title":"Win下查看端口是否被占用以及所属程序","content":" 查看端口号是否被占用 netstat -ano|findstr 3306 查看进程所属应用程序 tasklist|findstr 1596 ","link":"https://mycodemylife.github.io/post/win-xia-cha-kan-duan-kou-shi-fou-bei-zhan-yong-yi-ji-suo-shu-cheng-xu/"},{"title":"jQuery获取元素的兄弟节点","content":"$('#id').siblings() 当前元素所有的兄弟节点 $('#id').prev() 当前元素前一个兄弟节点 $('#id').prevaAll() 当前元素之前所有的兄弟节点 $('#id').next() 当前元素之后第一个兄弟节点 $('#id').nextAll() 当前元素之后所有的兄弟节点 ","link":"https://mycodemylife.github.io/post/jquery-huo-qu-yuan-su-de-xiong-di-jie-dian/"},{"title":"centos6防火墙","content":" #清除预设表filter中的所有规则链的规则 iptables -F #清除预设表filter中使用者自定链中的规则 iptables -X #保存iptables配置 service iptables save #重启iptables服务 service iptables restart #iptables服务状态 service iptables status #iptables服务启动 service iptables start #iptables服务停止 service iptables stop #查看iptables规则 iptables -L -n #查看iptables规则文件 cat /etc/sysconfig/iptables #设定预设规则 iptables -P INPUT DROP iptables -P OUTPUT ACCEPT iptables -P FORWARD DROP #开启22端口 iptables -A INPUT -p tcp --dport 22 -j ACCEPT #如果OUTPUT设置成DROP需要添加 iptables -A OUTPUT -p tcp --sport 22 -j ACCEPT #关闭22端口 iptables -D INPUT -p tcp --dport 22 -j ACCEPT #开启常用端口 iptables -A INPUT -p tcp --dport 80 -j ACCEPT iptables -A INPUT -p tcp --dport 3306 -j ACCEPT #iptables -A OUTPUT -p tcp --sport 80 -j ACCEPT #iptables -A OUTPUT -p tcp --sport 3306 -j ACCEPT #iptables -A INPUT -p tcp --dport 20 -j ACCEPT #iptables -A INPUT -p tcp --dport 21 -j ACCEPT #iptables -A INPUT -p tcp --dport 10000 -j ACCEPT #iptables -A INPUT -p tcp --dport 25 -j ACCEPT #iptables -A INPUT -p tcp --dport 110 -j ACCEPT #iptables -A INPUT -p udp --dport 53 -j ACCEPT #允许ping iptables -A INPUT -p icmp -j ACCEPT #如果OUTPUT设置成DROP需要添加 iptables -A OUTPUT -p icmp -j ACCEPT #允许loopback iptables -A INPUT -i lo -p all -j ACCEPT #如果OUTPUT设置成DROP需要添加 iptables -A OUTPUT -o lo -p all -j ACCEPT #屏蔽指定ip #iptables -A INPUT -p tcp -s 192.168.10.1 -j DROP #减少不安全的端口连接 #iptables -A OUTPUT -p tcp --sport 31337 -j DROP #iptables -A OUTPUT -p tcp --dport 31337 -j DROP #允许某个IP远程连接 #iptables -A INPUT -s 192.168.10.1 -p tcp --dport 22 -j ACCEPT #允许某个网段的IP远程连接 iptables -A INPUT -s 192.168.10.0/24 -p tcp --dport 22 -j ACCEPT #允许指定网段通过、指定网口通过SSH连接本机 #iptables -A INPUT -i eth0 -p tcp -s 192.168.10.0/24 --dport 22 -m state --state NEW,ESTABLESHED -j ACCEPT #iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT #iptables -A INPUT -i eth0 -p tcp -s 192.168.10.0/24 --dport 22 -m state --state ESTABLESHED -j ACCEPT #iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state NEW,ESTABLISHED -j ACCEPT #开启转发功能 #iptables -A FORWARD -i eth0 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT #iptables -A FORWARD -i eth1 -o eh0 -j ACCEPT #丢弃坏的TCP包 #iptables -A FORWARD -p TCP ! --syn -m state --state NEW -j DROP #处理IP碎片数量,防止攻击,允许每秒100个 #iptables -A FORWARD -f -m limit --limit 100/s --limit-burst 100 -j ACCEPT #设置ICMP包过滤,允许每秒1个包,限制触发条件是10个包 #iptables -A FORWARD -p icmp -m limit --limit 1/s --limit-burst 10 -j ACCEPT #丢弃非法连接 iptables -A INPUT -m state --state INVALID -j DROP iptables -A OUTPUT -m state --state INVALID -j DROP iptables -A FORWARD -m state --state INVALID -j DROP #允许所有已经建立的和相关的连接 iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT －－###############配置NAT表防火墙############### #查看NAT表规则 iptables -t nat -L #清除NAT规则 iptables -F -t nat iptables -X -t nat iptables -Z -t nat #防止外网用内网IP欺骗 #iptables -t nat -A PREROUTING -i eth0 -s 10.0.0.0/8 -j DROP #iptables -t nat -A PREROUTING -i eth0 -s 172.16.0.0/12 -j DROP #iptables -t nat -A PREROUTING -i eth0 -s 192.168.0.0/16 -j DROP #禁止与某个IP的所有连接 #iptables -t nat -A PREROUTING -d 192.168.10.1 -j DROP #禁用80端口 #iptables -t nat -A PREROUTING -p tcp --dport 80 -j DROP #禁用某个IP的80端口 #iptables -t nat -A PREROUTING -p tcp --dport 21 -d 192.168.10.1 -j DROP ","link":"https://mycodemylife.github.io/post/centos6-fang-huo-qiang/"},{"title":"centos7防火墙","content":"systemctl status firewalld.service 查看firewalld状态 systemctl start firewalld.service 开启firewalld systemctl stop firewalld.service 关闭firewalld firewall-cmd --zone=public --add-port=80/tcp --permanent 永久添加指定端口 firewall-cmd --zone=public --remove-port=8080/tcp --permanent 永久移除指定端口 firewall-cmd --query-port=3306/tcp 查看端口是否被开放，返回yes/no firewall-cmd --list-all 查看所有开放的端口 systemctl enable firewalld.service 开启自启 systemctl disable firewalld.service 禁止开机自启 systemctl is-enabled firewalld.service 查看是否开机自启 firewall-cmd --reload 更新防火墙规则（立即生效，永久添加时需要reload） ","link":"https://mycodemylife.github.io/post/centos7-fang-huo-qiang/"},{"title":"Ubuntu防火墙","content":"1.安装 sudo apt-get install ufw 2.启用 sudo ufw enable sudo ufw default deny 运行以上两条命令后，开启了防火墙，并在系统启动时自动开启。关闭所有外部对本机的访问，但本机访问外部正常。 3.开启/禁用 sudo ufw allow|deny [service] 打开或关闭某个端口，例如： sudo ufw allow smtp 允许所有的外部IP访问本机的25/tcp (smtp)端口 sudo ufw allow 22/tcp 允许所有的外部IP访问本机的22/tcp (ssh)端口 sudo ufw allow 53 允许外部访问53端口(tcp/udp) sudo ufw allow from 192.168.1.100 允许此IP访问所有的本机端口 sudo ufw allow proto udp 192.168.0.1 port 53 to 192.168.0.2 port 53 sudo ufw deny smtp 禁止外部访问smtp服务 sudo ufw delete allow smtp 删除上面建立的某条规则 4.查看防火墙状态 sudo ufw status ","link":"https://mycodemylife.github.io/post/ubuntu-fang-huo-qiang/"},{"title":"IE  360安全浏览器 兼容","content":"/* IE8+ */ .nav-mini.navDiv { overflow: visible\\0; } 在其他浏览器下不展示，在IE会展示 ","link":"https://mycodemylife.github.io/post/ie-360-an-quan-liu-lan-qi-jian-rong/"},{"title":"鼠标每点击一次就展示一个效果","content":"var a_idx = 0; $(&quot;body&quot;).click(function(e) { var a = new Array(&quot;❤主人你最帅❤&quot;,&quot;❤你最有钱❤&quot;,&quot;❤漂亮姑娘都爱你❤&quot;); a_idx = a_idx % a.length; var $i = $(&quot;&lt;span&gt;&lt;/span&gt;&quot;).text(a[a_idx]); var x = e.pageX, y = e.pageY; $i.css({ &quot;z-index&quot;: 99999999999999999999999, &quot;top&quot;: y - 20, &quot;left&quot;: x, &quot;position&quot;: &quot;absolute&quot;, &quot;font-weight&quot;: &quot;bold&quot;, &quot;color&quot;: &quot;rgb(&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;)&quot; }); $(&quot;body&quot;).append($i); $i.animate({ &quot;top&quot;: y - 180, &quot;opacity&quot;: 0 }, 1500, function() { $i.remove(); }); a_idx++; }); ","link":"https://mycodemylife.github.io/post/shu-biao-mei-dian-ji-yi-ci-jiu-zhan-shi-yi-ge-xiao-guo/"},{"title":"mysql  IPV4  IPV6 转换以及字符截取","content":" IPV4转数值 SELECT INET_ATON('192.168.1.1'); 数值转IPV4 SELECT INET_NTOA('3232235777'); IPV6转数值 SELECT HEX(INET6_ATON('123:33:1:3:2:3:4:5')) from DUAL; 数值转IPV6 SELECT INET6_NTOA(UNHEX(01230033000100030002000300040005)) from DUAL; 字符截取 select substring_index(substring_index('ftp://206.189.90.62/sensi.sh', '/',3),'/',-1) from dual ","link":"https://mycodemylife.github.io/post/mysql-ipv4-ipv6-zhuan-huan-yi-ji-zi-fu-jie-qu/"},{"title":"pip从国内安装","content":"pip install abc -i https://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com -i 指定源 ","link":"https://mycodemylife.github.io/post/pip-cong-guo-nei-an-zhuang/"},{"title":"mysql 自带加密函数","content":" 加密 SELECT Hex(AES_ENCRYPT(&quot;hello world&quot;,&quot;1q2w3e4r5t&quot;)); 解密 SELECT AES_DECRYPT(UNHEX(&quot;79A3B96BF32FABEAB0BD03D56044FFDF&quot;),&quot;1q2w3e4r5t&quot;); ","link":"https://mycodemylife.github.io/post/mysql-zi-dai-jia-mi-han-shu/"},{"title":"oracle关闭和重启","content":"启动： 1、先登录服务器后，切换到oracle用户状态下： su oracle 2、检查oracle监听器运行状态：lsnrctl status命令查看。 表示监听没有启动。 3、执行启动监听，通过命令：lsnrctl start （lsnrctl stop 关闭监听） 表示端口已启动成功。 4、如果启动报错，listener.ora文件打开，调整HOST IP 5、进入sqlplus，命令：sqlplus /nolog 6、管理员sysdba权限登陆oracle：conn /as sysdba 7、启动服务（实例）：startup 重启：先关闭再连接 sqlplus sys/'pass!'@ORCL as sysdba shutdown immediate; 退出 exit sqlplus /nolog conn /as sysdba startup ","link":"https://mycodemylife.github.io/post/oracle-guan-bi-he-chong-qi/"},{"title":"oracle  spool","content":"可用于导出数据 #!/bin/sh export NLS_LANG='SIMPLIFIED CHINESE_CHINA.UTF8' ORA_NAME=dbname ORA_USER=username ORA_PASS=pass sqlplus -S ${ORA_USER}/${ORA_PASS} &lt;&lt; EOF set echo off; set feedback off; set newpage none; set verify off; set pagesize 0; set term off; set trims on; set linesize 10000; set heading off; set timing off; set numwidth 38; SPOOL /tmp/demo.sql; SELECT 'insert into Idcard(name,idNumMd5,idNum,createTime,flag) values(&quot;'|| DWMC|| '&quot;,&quot;' || md5(ZJHM)|| '&quot;,&quot;' || ZJHM|| '&quot;,now(),&quot;' || JGDM|| '&quot;);' FROM Table WHERE ZT=1 and YL1=200; SPOOL OFF; exit EOF ","link":"https://mycodemylife.github.io/post/oracle-spool/"},{"title":"PHP 调用https类型webservice接口","content":"$opts = array ( 'ssl' =&gt; array ( 'ciphers' =&gt; 'RC4-SHA', 'verify_peer' =&gt; false, 'verify_peer_name' =&gt; false ) ); // SOAP 1.2 client $params = array ( 'encoding' =&gt; 'UTF-8', 'verifypeer' =&gt; false, 'verifyhost' =&gt; false, 'soap_version' =&gt; SOAP_1_1, 'trace' =&gt; 1, 'exceptions' =&gt; 1, &quot;connection_timeout&quot; =&gt; 180, 'stream_context' =&gt; stream_context_create ( $opts ), 'local_cert' =&gt; $local_cert, // client证书信息 'passphrase' =&gt; 'client' // 密码 ); ; $soap = new SoapClient ( $wsdl, $params ); 例子： &lt;?php header(&quot;content-type:text/html;charset=utf-8&quot;); try { // 要请求的内容 打成xml //xml加密 //密钥 //偏移量 //随机数 //用户 $client = new SoapClient(&quot;https://192.168.3.12:8866/epic/query?wsdl&quot;, array( &quot;stream_context&quot; =&gt; stream_context_create( array( 'ssl' =&gt; array( 'verify_peer' =&gt; false, 'verify_peer_name' =&gt; false, ) ) ) ) ); //print_r($client-&gt;__getFunctions()); //print_r($client-&gt;__getTypes()); $parm = array('content' =&gt; 'inKkcE+e4h+1q5Rpm8hAqw0Ph8yYx3hlhUO/1dJqrhm4Y4p/ot7yhgnzg5cQj+3Whac+3gx5yfs1KVX/1U9TwugtKtMdRFwPxPbF27i+BmAh3gZN6SSMCvbvVmi2EBRgRxJEHBMrk52DCpUtC21nn4ECvkBUKBcf0vCnAVfB4Xs=', 'contentHash' =&gt; '0lh0DJh3A2j1ei7NhEAnYA==', 'random' =&gt; 'AUMIxMlN4IoZTuh3Gh6y', 'loginName' =&gt; 'glpt_user01'); $result = $client-&gt;epic_ent_person_relation($parm); //print_r($result); //将stdclass object的$result转换为array $result = get_object_vars($result); //输出结果 echo $result[&quot;return&quot;]; } catch (SOAPFault $e) { print $e; } ?&gt; ","link":"https://mycodemylife.github.io/post/php-webservice/"},{"title":"php证件照换底色","content":"&lt;?php //背景图和原图需要保持宽高要保持一样，这里的示例原图用的是蓝色背景 init(); function init(){ $old = '1.png'; $new = '2.png'; //创建一个png透明图 $img = imagecreatefrompng($old); setpng($img,$old,$new); } function setpng($imgid,$filename,$savename){ $bg = 'bg.png';//背景图 $new = imagecreatefrompng($bg);//创建一个png透明图 list($width,$height)=getimagesize($filename);//获取长和宽 $white = imagecolorallocate($imgid,1,155,215);//选择一个替换颜色。这里是绿色 cleancolor($imgid,$white); imagecolortransparent($imgid,$white);//把选择的颜色替换成透明 imagecopymerge($new,$imgid,0,0,0,0,$width,$height,100);//合并图片 imagepng($new,$savename);//保存图片 imagedestroy($imgid);//销毁 imagedestroy($new); echo '&lt;img src=&quot;'.$savename.'&quot;&gt;'; } function cleancolor($imgid,$color){ $width = imagesx($imgid);//获取宽 $height = imagesy($imgid);//获取高 for($i=0;$i&lt;$width;$i++){ for($k=0;$k&lt;$height;$k++){ //对比每一个像素 $rgb = imagecolorat($imgid,$i,$k); $r = ($rgb &gt;&gt; 16)&amp;0xff;//取R $g = ($rgb &gt;&gt; 8)&amp;0xff;//取G $b = $rgb&amp;0xff;//取B $randr = 1.5; $randg = 1; $randb=1; //蓝色RGB大致的位置。替换成绿色 if($r&lt;=65*$randr &amp;&amp; $g&lt;=225*$randg &amp;&amp; $b&lt;=255*$randb &amp;&amp; $b*$randb&gt;=100){ //如果能够精确的计算出要保留位置的，这里可以写绝对的数字 if($i&gt;=$width/2 &amp;&amp; $i&lt;=$width/2 &amp;&amp; $k&gt;=$height/2 &amp;&amp; $k&lt;=$height/2){ }else{ //改变颜色 imagesetpixel($imgid,$i,$k,$color); } } } } } $old指的是要处理的图片，指定为png格式 $new指的是处理后输出的图片名 $bg指的是背景图 😘 Enjoy~ ","link":"https://mycodemylife.github.io/post/php_change/"}]}